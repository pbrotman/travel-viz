// Data, as JSON (converted from CSV by data.py)
const trips_init = 
[{"Name": "Southeast Asia (2023-2024)"}, {"Name": "Guatemala (2024)"}, {"Name": "Central Europe (2022)"}, {"Name": "France (2022)"}, {"Name": "Cura\u00e7ao (2023)"}, {"Name": "Israel & Turkey (2023)"}, {"Name": "Study Abroad (2017)"}, {"Name": "Costa Rica (2021)"}, {"Name": "Paris (2016)"}];
const locations_init = 
[{"Name": "Kuala Lumpur", "Lat": "3.1319", "Lng": "101.6841", "Country": "Malaysia"}, {"Name": "Malacca", "Lat": "2.1896", "Lng": "102.2501", "Country": "Malaysia"}, {"Name": "Singapore", "Lat": "1.3521", "Lng": "103.8198", "Country": "Singapore"}, {"Name": "Cameron Highlands", "Lat": "4.4679", "Lng": "101.3848", "Country": "Malaysia"}, {"Name": "Penang", "Lat": "5.4141", "Lng": "100.3285", "Country": "Malaysia"}, {"Name": "Langkawi", "Lat": "6.2934", "Lng": "99.7247", "Country": "Malaysia"}, {"Name": "Ko Lipe", "Lat": "6.4886", "Lng": "99.3049", "Country": "Thailand"}, {"Name": "Ko Lanta", "Lat": "7.6065", "Lng": "99.0353", "Country": "Thailand"}, {"Name": "Phi Phi", "Lat": "7.7407", "Lng": "98.7784", "Country": "Thailand"}, {"Name": "Phuket", "Lat": "7.8804", "Lng": "98.3923", "Country": "Thailand"}, {"Name": "Khao Sok", "Lat": "8.9777", "Lng": "98.6382", "Country": "Thailand"}, {"Name": "Surat Thani", "Lat": "9.1341", "Lng": "99.1431", "Country": "Thailand"}, {"Name": "Bangkok", "Lat": "13.7563", "Lng": "100.5018", "Country": "Thailand"}, {"Name": "Sukhothai", "Lat": "17.0076", "Lng": "99.8264", "Country": "Thailand"}, {"Name": "Chiang Mai", "Lat": "18.7883", "Lng": "98.9853", "Country": "Thailand"}, {"Name": "Pai", "Lat": "19.3581", "Lng": "98.4405", "Country": "Thailand"}, {"Name": "Mae Hong Son", "Lat": "19.2990", "Lng": "97.9676", "Country": "Thailand"}, {"Name": "Mae Cham", "Lat": "18.4993", "Lng": "98.3627", "Country": "Thailand"}, {"Name": "Chiang Rai", "Lat": "19.9105", "Lng": "99.8406", "Country": "Thailand"}, {"Name": "Huay Xia", "Lat": "20.2628", "Lng": "100.4340", "Country": "Laos"}, {"Name": "Pak Beng", "Lat": "19.8990", "Lng": "101.1419", "Country": "Laos"}, {"Name": "Luang Prabang", "Lat": "19.8833", "Lng": "102.1387", "Country": "Laos"}, {"Name": "Vang Vieng", "Lat": "18.9213", "Lng": "102.4487", "Country": "Laos"}, {"Name": "Vientiane", "Lat": "17.9757", "Lng": "102.6331", "Country": "Laos"}, {"Name": "Nong Khai", "Lat": "17.8646", "Lng": "102.7310", "Country": "Thailand"}, {"Name": "Siem Reap", "Lat": "13.3633", "Lng": "103.8564", "Country": "Cambodia"}, {"Name": "Phnom Penh", "Lat": "11.5564", "Lng": "104.9282", "Country": "Cambodia"}, {"Name": "Sihanoukville", "Lat": "10.6268", "Lng": "103.5116", "Country": "Cambodia"}, {"Name": "Ko Rong", "Lat": "10.6658", "Lng": "103.2729", "Country": "Cambodia"}, {"Name": "Jakarta", "Lat": "-6.1944", "Lng": "106.8229", "Country": "Indonesia"}, {"Name": "Yogyakarta", "Lat": "-7.8014", "Lng": "110.3648", "Country": "Indonesia"}, {"Name": "Malang", "Lat": "-7.9666", "Lng": "112.6326", "Country": "Indonesia"}, {"Name": "Surabaya", "Lat": "-7.2575", "Lng": "112.7521", "Country": "Indonesia"}, {"Name": "Guatemala City", "Lat": "14.6349", "Lng": "-90.5069", "Country": "Guatemala"}, {"Name": "Quetzaltenango (Xela)", "Lat": "14.8446", "Lng": "-91.5232", "Country": "Guatemala"}, {"Name": "San Pedro La Laguna", "Lat": "14.6889", "Lng": "-91.2686", "Country": "Guatemala"}, {"Name": "Antigua", "Lat": "14.5573", "Lng": "-90.7332", "Country": "Guatemala"}, {"Name": "Berlin", "Lat": "52.5200", "Lng": "13.4050", "Country": "Germany"}, {"Name": "Budapest", "Lat": "47.4979", "Lng": "19.0402", "Country": "Hungary"}, {"Name": "Vienna", "Lat": "48.2081", "Lng": "16.3713", "Country": "Austria"}, {"Name": "Bratislava", "Lat": "48.1486", "Lng": "17.1077", "Country": "Slovenia"}, {"Name": "Prague", "Lat": "50.0755", "Lng": "14.4378", "Country": "Czechia"}, {"Name": "Paris", "Lat": "48.8575", "Lng": "2.3514", "Country": "France"}, {"Name": "Strasbourg", "Lat": "48.5734", "Lng": "7.7521", "Country": "France"}, {"Name": "Colmar", "Lat": "48.0803", "Lng": "7.3546", "Country": "France"}, {"Name": "Cura\u00e7ao", "Lat": "12.1039", "Lng": "-68.9324", "Country": "Netherlands"}, {"Name": "Istanbul", "Lat": "41.0082", "Lng": "28.9784", "Country": "Turkey"}, {"Name": "Selimpa\u015fa", "Lat": "41.0665", "Lng": "28.352", "Country": "Turkey"}, {"Name": "Gallipoli", "Lat": "40.2448", "Lng": "26.2819", "Country": "Turkey"}, {"Name": "\u00c7anakkale", "Lat": "40.1467", "Lng": "26.4086", "Country": "Turkey"}, {"Name": "Troy", "Lat": "39.9576", "Lng": "26.2397", "Country": "Turkey"}, {"Name": "Assos", "Lat": "39.4901", "Lng": "26.3351", "Country": "Turkey"}, {"Name": "Ayval\u0131k", "Lat": "39.3192", "Lng": "26.6924", "Country": "Turkey"}, {"Name": "Pergamon", "Lat": "39.1327", "Lng": "27.1838", "Country": "Turkey"}, {"Name": "\u0130zmir", "Lat": "38.4237", "Lng": "27.1428", "Country": "Turkey"}, {"Name": "Ephesus", "Lat": "37.9387", "Lng": "27.3413", "Country": "Turkey"}, {"Name": "Pamukkale", "Lat": "37.9137", "Lng": "29.1187", "Country": "Turkey"}, {"Name": "Marmaris", "Lat": "36.8549", "Lng": "28.2709", "Country": "Turkey"}, {"Name": "Fethiye", "Lat": "36.6578", "Lng": "29.1265", "Country": "Turkey"}, {"Name": "Kaputa\u015f Beach", "Lat": "36.2289", "Lng": "29.4489", "Country": "Turkey"}, {"Name": "Ka\u015f", "Lat": "36.1999", "Lng": "29.6396", "Country": "Turkey"}, {"Name": "\u00c7\u0131ral\u0131", "Lat": "36.4173", "Lng": "30.4775", "Country": "Turkey"}, {"Name": "Antalya", "Lat": "36.8969", "Lng": "30.7133", "Country": "Turkey"}, {"Name": "Tel Aviv", "Lat": "32.0853", "Lng": "34.7818", "Country": "Israel"}, {"Name": "Nahariyya", "Lat": "33.0085", "Lng": "35.0981", "Country": "Israel"}, {"Name": "Bar'am", "Lat": "33.0590", "Lng": "35.4332", "Country": "Israel"}, {"Name": "Jerusalem", "Lat": "31.7683", "Lng": "35.2137", "Country": "Israel"}, {"Name": "Haifa", "Lat": "32.7940", "Lng": "34.9896", "Country": "Israel"}, {"Name": "Safed", "Lat": "32.9646", "Lng": "35.4960", "Country": "Israel"}, {"Name": "Regavim", "Lat": "32.5234", "Lng": "35.0340", "Country": "Israel"}, {"Name": "Bath", "Lat": "51.3781", "Lng": "-2.3597", "Country": "United Kingdom"}, {"Name": "Bristol", "Lat": "51.4545", "Lng": "-2.5879", "Country": "United Kingdom"}, {"Name": "London", "Lat": "51.5072", "Lng": "-0.1276", "Country": "United Kingdom"}, {"Name": "Dublin", "Lat": "53.3498", "Lng": "-6.2603", "Country": "Ireland"}, {"Name": "Stonehenge", "Lat": "51.1789", "Lng": "-1.8262", "Country": "United Kingdom"}, {"Name": "Amsterdam", "Lat": "52.3676", "Lng": "4.9041", "Country": "Netherlands"}, {"Name": "Geneva", "Lat": "46.2044", "Lng": "6.1432", "Country": "Switzerland"}, {"Name": "Guanacaste", "Lat": "10.5894", "Lng": "-85.6497", "Country": "Costa Rica"}];
const visits_init = 
[{"Location": "Kuala Lumpur", "Arrive": "05 Dec 2023", "Depart": "07 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Malacca", "Arrive": "07 Dec 2023", "Depart": "10 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Singapore", "Arrive": "10 Dec 2023", "Depart": "13 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Kuala Lumpur", "Arrive": "13 Dec 2023", "Depart": "14 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Cameron Highlands", "Arrive": "14 Dec 2023", "Depart": "16 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Penang", "Arrive": "16 Dec 2023", "Depart": "21 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Langkawi", "Arrive": "21 Dec 2023", "Depart": "25 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Ko Lipe", "Arrive": "25 Dec 2023", "Depart": "27 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Ko Lanta", "Arrive": "27 Dec 2023", "Depart": "02 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Phi Phi", "Arrive": "02 Jan 2024", "Depart": "03 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Phuket", "Arrive": "03 Jan 2024", "Depart": "05 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Khao Sok", "Arrive": "05 Jan 2024", "Depart": "08 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Surat Thani", "Arrive": "08 Jan 2024", "Depart": "08 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Bangkok", "Arrive": "08 Jan 2024", "Depart": "13 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Sukhothai", "Arrive": "13 Jan 2024", "Depart": "15 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Chiang Mai", "Arrive": "15 Jan 2024", "Depart": "23 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Pai", "Arrive": "23 Jan 2024", "Depart": "25 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Mae Hong Son", "Arrive": "25 Jan 2024", "Depart": "26 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Mae Cham", "Arrive": "26 Jan 2024", "Depart": "27 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Chiang Mai", "Arrive": "27 Jan 2024", "Depart": "28 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Pai", "Arrive": "28 Jan 2024", "Depart": "30 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Chiang Mai", "Arrive": "30 Jan 2024", "Depart": "31 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Chiang Rai", "Arrive": "31 Jan 2024", "Depart": "3 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Huay Xia", "Arrive": "3 Feb 2024", "Depart": "4 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Pak Beng", "Arrive": "4 Feb 2024", "Depart": "5 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Luang Prabang", "Arrive": "5 Feb 2024", "Depart": "9 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Vang Vieng", "Arrive": "9 Feb 2024", "Depart": "12 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Vientiane", "Arrive": "12 Feb 2024", "Depart": "12 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Nong Khai", "Arrive": "12 Feb 2024", "Depart": "12 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Bangkok", "Arrive": "13 Feb 2024", "Depart": "13 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Siem Reap", "Arrive": "13 Feb 2024", "Depart": "17 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Phnom Penh", "Arrive": "17 Feb 2024", "Depart": "21 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Sihanoukville", "Arrive": "21 Feb 2024", "Depart": "21 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Ko Rong", "Arrive": "21 Feb 2024", "Depart": "25 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Sihanoukville", "Arrive": "25 Feb 2024", "Depart": "25 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Phnom Penh", "Arrive": "25 Feb 2024", "Depart": "26 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Kuala Lumpur", "Arrive": "26 Feb 2024", "Depart": "29 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Jakarta", "Arrive": "29 Feb 2024", "Depart": "4 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Yogyakarta", "Arrive": "4 Mar 2024", "Depart": "7 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Malang", "Arrive": "7 Mar 2024", "Depart": "10 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Surabaya", "Arrive": "10 Mar 2024", "Depart": "11 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Kuala Lumpur", "Arrive": "11 Mar 2024", "Depart": "13 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Location": "Guatemala City", "Arrive": "26 Mar 2024", "Depart": "27 Mar 2024", "Trip": "Guatemala (2024)"}, {"Location": "Quetzaltenango (Xela)", "Arrive": "27 Mar 2024", "Depart": "24 Apr 2024", "Trip": "Guatemala (2024)"}, {"Location": "San Pedro La Laguna", "Arrive": "12 Apr 2024", "Depart": "14 Apr 2024", "Trip": "Guatemala (2024)"}, {"Location": "Antigua", "Arrive": "19 Apr 2024", "Depart": "21 Apr 2024", "Trip": "Guatemala (2024)"}, {"Location": "Guatemala City", "Arrive": "24 Apr 2024", "Depart": "25 Apr 2024", "Trip": "Guatemala (2024)"}, {"Location": "Berlin", "Arrive": "16 Oct 2022", "Depart": "18 Oct 2022", "Trip": "Central Europe (2022)"}, {"Location": "Budapest", "Arrive": "18 Oct 2022", "Depart": "21 Oct 2022", "Trip": "Central Europe (2022)"}, {"Location": "Vienna", "Arrive": "21 Oct 2022", "Depart": "25 Oct 2022", "Trip": "Central Europe (2022)"}, {"Location": "Bratislava", "Arrive": "25 Oct 2022", "Depart": "25 Oct 2022", "Trip": "Central Europe (2022)"}, {"Location": "Prague", "Arrive": "25 Oct 2022", "Depart": "28 Oct 2022", "Trip": "Central Europe (2022)"}, {"Location": "Berlin", "Arrive": "28 Oct 2022", "Depart": "30 Oct 2022", "Trip": "Central Europe (2022)"}, {"Location": "Paris", "Arrive": "6 Dec 2022", "Depart": "6 Dec 2022", "Trip": "France (2022)"}, {"Location": "Strasbourg", "Arrive": "6 Dec 2022", "Depart": "9 Dec 2022", "Trip": "France (2022)"}, {"Location": "Colmar", "Arrive": "9 Dec 2022", "Depart": "9 Dec 2022", "Trip": "France (2022)"}, {"Location": "Paris", "Arrive": "9 Dec 2022", "Depart": "10 Dec 2022", "Trip": "France (2022)"}, {"Location": "Cura\u00e7ao", "Arrive": "8 May 2023", "Depart": "14 May 2023", "Trip": "Cura\u00e7ao (2023)"}, {"Location": "Istanbul", "Arrive": "10 Oct 2023", "Depart": "16 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Selimpa\u015fa", "Arrive": "16 Oct 2023", "Depart": "16 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Gallipoli", "Arrive": "16 Oct 2023", "Depart": "16 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "\u00c7anakkale", "Arrive": "16 Oct 2023", "Depart": "17 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Troy", "Arrive": "17 Oct 2023", "Depart": "17 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Assos", "Arrive": "17 Oct 2023", "Depart": "17 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Ayval\u0131k", "Arrive": "17 Oct 2023", "Depart": "18 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Pergamon", "Arrive": "18 Oct 2023", "Depart": "18 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "\u0130zmir", "Arrive": "18 Oct 2023", "Depart": "19 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Ephesus", "Arrive": "19 Oct 2023", "Depart": "19 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Pamukkale", "Arrive": "19 Oct 2023", "Depart": "20 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Marmaris", "Arrive": "20 Oct 2023", "Depart": "21 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Fethiye", "Arrive": "21 Oct 2023", "Depart": "21 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Kaputa\u015f Beach", "Arrive": "21 Oct 2023", "Depart": "21 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Ka\u015f", "Arrive": "21 Oct 2023", "Depart": "22 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "\u00c7\u0131ral\u0131", "Arrive": "22 Oct 2023", "Depart": "22 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Antalya", "Arrive": "22 Oct 2023", "Depart": "24 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Istanbul", "Arrive": "24 Oct 2023", "Depart": "26 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Tel Aviv", "Arrive": "25 July 2023", "Depart": "25 July 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Bar'am", "Arrive": "25 July 2023", "Depart": "8 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Tel Aviv", "Arrive": "24 Aug 2023", "Depart": "27 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Jerusalem", "Arrive": "27 Aug 2023", "Depart": "27 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Tel Aviv", "Arrive": "27 Aug 2023", "Depart": "28 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Haifa", "Arrive": "7 Sep 2023", "Depart": "10 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Safed", "Arrive": "29 Sep 2023", "Depart": "29 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Regavim", "Arrive": "8 Oct 2023", "Depart": "10 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Tel Aviv", "Arrive": "10 Oct 2023", "Depart": "10 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Location": "Bath", "Arrive": "23 Sep 2017", "Depart": "15 Dec 2017", "Trip": "Study Abroad (2017)"}, {"Location": "Bristol", "Arrive": "13 Oct 2017", "Depart": "13 Oct 2017", "Trip": "Study Abroad (2017)"}, {"Location": "London", "Arrive": "21 Oct 2017", "Depart": "23 Oct 2017", "Trip": "Study Abroad (2017)"}, {"Location": "Bristol", "Arrive": "10 Nov 2017", "Depart": "10 Nov 2017", "Trip": "Study Abroad (2017)"}, 
    {"Location": "Dublin", "Arrive": "17 Nov 2017", "Depart": "20 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Location": "Stonehenge", "Arrive": "25 Nov 2017", "Depart": "25 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Location": "Amsterdam", "Arrive": "2 Dec 2017", "Depart": "4 Dec 2017", "Trip": "Study Abroad (2017)"}, {"Location": "Geneva", "Arrive": "9 Dec 2017", "Depart": "10 Dec 2017", "Trip": "Study Abroad (2017)"}, {"Location": "Guanacaste", "Arrive": "24 Nov 2021", "Depart": "28 Nov 2021", "Trip": "Costa Rica (2021)"}, {"Location": "Paris", "Arrive": "19 Mar 2016", "Depart": "28 Mar 2016", "Trip": "Paris (2016)"}];
const transits_init =
[{"Start": "Kuala Lumpur", "End": "Malacca", "Mode": "Bus", "Date Started": "07 Dec 2023", "Date Ended": "07 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Malacca", "End": "Singapore", "Mode": "Bus", "Date Started": "10 Dec 2023", "Date Ended": "10 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Singapore", "End": "Kuala Lumpur", "Mode": "Bus", "Date Started": "13 Dec 2023", "Date Ended": "13 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Kuala Lumpur", "End": "Cameron Highlands", "Mode": "Bus", "Date Started": "14 Dec 2023", "Date Ended": "14 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Cameron Highlands", "End": "Penang", "Mode": "Bus", "Date Started": "16 Dec 2023", "Date Ended": "16 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Penang", "End": "Langkawi", "Mode": "Plane", "Date Started": "21 Dec 2023", "Date Ended": "21 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Langkawi", "End": "Ko Lipe", "Mode": "Boat", "Date Started": "25 Dec 2023", "Date Ended": "25 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Ko Lipe", "End": "Ko Lanta", "Mode": "Boat", "Date Started": "27 Dec 2023", "Date Ended": "27 Dec 2023", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Ko Lanta", "End": "Phi Phi", "Mode": "Boat", "Date Started": "2 Jan 2024", "Date Ended": "2 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Phi Phi", "End": "Phuket", "Mode": "Boat", "Date Started": "3 Jan 2024", "Date Ended": "3 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Phuket", "End": "Khao Sok", "Mode": "Bus", "Date Started": "5 Jan 2024", "Date Ended": "5 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Khao Sok", "End": "Surat Thani", "Mode": "Van", "Date Started": "8 Jan 2024", "Date Ended": "8 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Surat Thani", "End": "Bangkok", "Mode": "Plane", "Date Started": "8 Jan 2024", "Date Ended": "8 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Bangkok", "End": "Sukhothai", "Mode": "Bus", "Date Started": "13 Jan 2024", "Date Ended": "13 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Sukhothai", "End": "Chiang Mai", "Mode": "Bus", "Date Started": "15 Jan 2024", "Date Ended": "15 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Chiang Mai", "End": "Pai", "Mode": "Motorbike", "Date Started": "23 Jan 2024", "Date Ended": "23 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Pai", "End": "Mae Hong Son", "Mode": "Motorbike", "Date Started": "25 Jan 2024", "Date Ended": "25 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Mae Hong Son", "End": "Mae Cham", "Mode": "Motorbike", "Date Started": "26 Jan 2024", "Date Ended": "26 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Mae Cham", "End": "Chiang Mai", "Mode": "Motorbike", "Date Started": "27 Jan 2024", "Date Ended": "27 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Chiang Mai", "End": "Pai", "Mode": "Motorbike", "Date Started": "28 Jan 2024", "Date Ended": "28 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Pai", "End": "Chiang Mai", "Mode": "Van", "Date Started": "30 Jan 2024", "Date Ended": "30 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Chiang Mai", "End": "Chiang Rai", "Mode": "Bus", "Date Started": "31 Jan 2024", "Date Ended": "31 Jan 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Chiang Rai", "End": "Huay Xia", "Mode": "Bus", "Date Started": "3 Feb 2024", "Date Ended": "3 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Huay Xia", "End": "Pak Beng", "Mode": "Boat", "Date Started": "4 Feb 2024", "Date Ended": "4 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Pak Beng", "End": "Luang Prabang", "Mode": "Boat", "Date Started": "5 Feb 2024", "Date Ended": "5 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Luang Prabang", "End": "Vang Vieng", "Mode": "Train", "Date Started": "9 Feb 2024", "Date Ended": "9 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Vang Vieng", "End": "Vientiane", "Mode": "Bus", "Date Started": "12 Feb 2024", "Date Ended": "12 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Vientiane", "End": "Nong Khai", "Mode": "Bus", "Date Started": "12 Feb 2024", "Date Ended": "12 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Nong Khai", "End": "Bangkok", "Mode": "Sleeper Train", "Date Started": "12 Feb 2024", "Date Ended": "13 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Bangkok", "End": "Siem Reap", "Mode": "Van", "Date Started": "13 Feb 2024", "Date Ended": "13 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Siem Reap", "End": "Phnom Penh", "Mode": "Bus", "Date Started": "17 Feb 2024", "Date Ended": "17 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Phnom Penh", "End": "Sihanoukville", "Mode": "Van", "Date Started": "21 Feb 2024", "Date Ended": "21 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Sihanoukville", "End": "Ko Rong", "Mode": "Boat", "Date Started": "21 Feb 2024", "Date Ended": "21 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Ko Rong", "End": "Sihanoukville", "Mode": "Boat", "Date Started": "25 Feb 2024", "Date Ended": "25 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Sihanoukville", "End": "Phnom Penh", "Mode": "Van", "Date Started": "25 Feb 2024", "Date Ended": "25 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Phnom Penh", "End": "Kuala Lumpur", "Mode": "Plane", "Date Started": "26 Feb 2024", "Date Ended": "26 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Kuala Lumpur", "End": "Jakarta", "Mode": "Plane", "Date Started": "29 Feb 2024", "Date Ended": "29 Feb 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Jakarta", "End": "Yogyakarta", "Mode": "Train", "Date Started": "4 Mar 2024", "Date Ended": "4 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Yogyakarta", "End": "Malang", "Mode": "Train", "Date Started": "7 Mar 2024", "Date Ended": "7 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Malang", "End": "Surabaya", "Mode": "Train", "Date Started": "10 Mar 2024", "Date Ended": "10 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Surabaya", "End": "Kuala Lumpur", "Mode": "Plane", "Date Started": "11 Mar 2024", "Date Ended": "11 Mar 2024", "Trip": "Southeast Asia (2023-2024)"}, {"Start": "Guatemala City", "End": "Quetzaltenango (Xela)", "Mode": "Bus", "Date Started": "27 Mar 2024", "Date Ended": "27 Mar 2024", "Trip": "Guatemala (2024)"}, {"Start": "Quetzaltenango (Xela)", "End": "San Pedro La Laguna", "Mode": "Van", "Date Started": "12 Apr 2024", "Date Ended": "12 Apr 2024", "Trip": "Guatemala (2024)"}, {"Start": "San Pedro La Laguna", "End": "Quetzaltenango (Xela)", "Mode": "Van", "Date Started": "14 April 2024", "Date Ended": "14 Apr 2024", "Trip": "Guatemala (2024)"}, {"Start": "Quetzaltenango (Xela)", "End": "Antigua", "Mode": "Van", "Date Started": "19 Apr 2024", "Date Ended": "19 Apr 2024", "Trip": "Guatemala (2024)"}, {"Start": "Antigua", "End": "Quetzaltenango (Xela)", "Mode": "Van", "Date Started": "21 Apr 2024", "Date Ended": "21 Apr 2024", "Trip": "Guatemala (2024)"}, {"Start": "Quetzaltenango (Xela)", "End": "Guatemala City", "Mode": "Bus", "Date Started": "24 Apr 2024", "Date Ended": "24 Apr 2024", "Trip": "Guatemala (2024)"}, {"Start": "Berlin", "End": "Budapest", "Mode": "Plane", "Date Started": "18 Oct 2022", "Date Ended": "18 Oct 2022", "Trip": "Central Europe (2022)"}, {"Start": "Budapest", "End": "Vienna", "Mode": "Train", "Date Started": "21 Oct 2022", "Date Ended": "21 Oct 2022", "Trip": "Central Europe (2022)"}, {"Start": "Vienna", "End": "Bratislava", "Mode": "Train", "Date Started": "25 Oct 2022", "Date Ended": "25 Oct 2022", "Trip": "Central Europe (2022)"}, {"Start": "Bratislava", "End": "Prague", "Mode": "Train", "Date Started": "25 Oct 2022", "Date Ended": "25 Oct 2022", "Trip": "Central Europe (2022)"}, {"Start": "Prague", "End": "Berlin", "Mode": "Bus", "Date Started": "28 Oct 2022", "Date Ended": "28 Oct 2022", "Trip": "Central Europe (2022)"}, {"Start": "Paris", "End": "Strasbourg", "Mode": "Train", "Date Started": "6 Dec 2022", "Date Ended": "6 Dec 2022", "Trip": "France (2022)"}, {"Start": "Strasbourg", "End": "Colmar", "Mode": "Train", "Date Started": "9 Dec 2022", "Date Ended": "9 Dec 2022", "Trip": "France (2022)"}, {"Start": "Colmar", "End": "Strasbourg", "Mode": "Train", "Date Started": "9 Dec 2022", "Date Ended": "9 Dec 2022", "Trip": "France (2022)"}, {"Start": "Strasbourg", "End": "Paris", "Mode": "Train", "Date Started": "9 Dec 2022", "Date Ended": "9 Dec 2022", "Trip": "France (2022)"}, {"Start": "Istanbul", "End": "Selimpa\u015fa", "Mode": "Car", "Date Started": "16 Oct 2023", "Date Ended": "16 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Selimpa\u015fa", "End": "Gallipoli", "Mode": "Car", "Date Started": "16 Oct 2023", "Date Ended": "16 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Gallipoli", "End": "\u00c7anakkale", "Mode": "Car", "Date Started": "16 Oct 2023", "Date Ended": "16 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "\u00c7anakkale", "End": "Troy", "Mode": "Car", "Date Started": "17 Oct 2023", "Date Ended": "17 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Troy", "End": "Assos", "Mode": "Car", "Date Started": "17 Oct 2023", "Date Ended": "17 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Assos", "End": "Ayval\u0131k", "Mode": "Car", "Date Started": "17 Oct 2023", "Date Ended": "17 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Ayval\u0131k", "End": "Pergamon", "Mode": "Car", "Date Started": "18 Oct 2023", "Date Ended": "18 Oct 2023", "Trip": "Israel & Turkey (2023)"}, 
    {"Start": "Pergamon", "End": "\u0130zmir", "Mode": "Car", "Date Started": "18 Oct 2023", "Date Ended": "18 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "\u0130zmir", "End": "Ephesus", "Mode": "Car", "Date Started": "19 Oct 2023", "Date Ended": "19 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Ephesus", "End": "Pamukkale", "Mode": "Car", "Date Started": "19 Oct 2023", "Date Ended": "19 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Pamukkale", "End": "Marmaris", "Mode": "Car", "Date Started": "20 Oct 2023", "Date Ended": "20 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Marmaris", "End": "Fethiye", "Mode": "Car", "Date Started": "21 Oct 2023", "Date Ended": "21 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Fethiye", "End": "Kaputa\u015f Beach", "Mode": "Car", "Date Started": "21 Oct 2023", "Date Ended": "21 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Kaputa\u015f Beach", "End": "Ka\u015f", "Mode": "Car", "Date Started": "21 Oct 2023", "Date Ended": "21 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Ka\u015f", "End": "\u00c7\u0131ral\u0131", "Mode": "Car", "Date Started": "22 Oct 2023", "Date Ended": "22 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "\u00c7\u0131ral\u0131", "End": "Antalya", "Mode": "Car", "Date Started": "22 Oct 2023", "Date Ended": "22 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Antalya", "End": "Istanbul", "Mode": "Car", "Date Started": "24 Oct 2023", "Date Ended": "24 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Tel Aviv", "End": "Nahariyya", "Mode": "Train", "Date Started": "25 July 2023", "Date Ended": "25 Jul 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Nahariyya", "End": "Bar'am", "Mode": "Car", "Date Started": "25 July 2023", "Date Ended": "25 Jul 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Bar'am", "End": "Nahariyya", "Mode": "Bus", "Date Started": "24 Aug 2023", "Date Ended": "24 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Nahariyya", "End": "Tel Aviv", "Mode": "Train", "Date Started": "24 Aug 2023", "Date Ended": "24 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Tel Aviv", "End": "Jerusalem", "Mode": "Train", "Date Started": "27 Aug 2023", "Date Ended": "27 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Jerusalem", "End": "Tel Aviv", "Mode": "Train", "Date Started": "27 Aug 2023", "Date Ended": "27 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Tel Aviv", "End": "Nahariyya", "Mode": "Train", "Date Started": "27 Aug 2023", "Date Ended": "27 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Nahariyya", "End": "Bar'am", "Mode": "Bus", "Date Started": "28 Aug 2023", "Date Ended": "28 Aug 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Bar'am", "End": "Nahariyya", "Mode": "Bus", "Date Started": "7 Sep 2023", "Date Ended": "7 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Nahariyya", "End": "Haifa", "Mode": "Train", "Date Started": "10 Sep 2023", "Date Ended": "10 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Haifa", "End": "Bar'am", "Mode": "Bus", "Date Started": "10 Sep 2023", "Date Ended": "10 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Bar'am", "End": "Safed", "Mode": "Bus", "Date Started": "29 Sep 2023", "Date Ended": "29 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Safed", "End": "Bar'am", "Mode": "Bus", "Date Started": "29 Sep 2023", "Date Ended": "29 Sep 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Bar'am", "End": "Nahariyya", "Mode": "Car", "Date Started": "8 Oct 2023", "Date Ended": "8 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Nahariyya", "End": "Regavim", "Mode": "Train", "Date Started": "8 Oct 2023", "Date Ended": "8 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Regavim", "End": "Tel Aviv", "Mode": "Train", "Date Started": "10 Oct 2023", "Date Ended": "10 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Tel Aviv", "End": "Istanbul", "Mode": "Plane", "Date Started": "10 Oct 2023", "Date Ended": "10 Oct 2023", "Trip": "Israel & Turkey (2023)"}, {"Start": "Bath", "End": "Bristol", "Mode": "Train", "Date Started": "13 Oct 2017", "Date Ended": "13 Oct 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bristol", "End": "Bath", "Mode": "Train", "Date Started": "13 Oct 2017", "Date Ended": "13 Oct 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bath", "End": "London", "Mode": "Train", "Date Started": "21 Oct 2017", "Date Ended": "21 Oct 2017", "Trip": "Study Abroad (2017)"}, {"Start": "London", "End": "Bath", "Mode": "Train", "Date Started": "23 Oct 2017", "Date Ended": "23 Oct 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bath", "End": "Bristol", "Mode": "Train", "Date Started": "10 Nov 2017", "Date Ended": "10 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bristol", "End": "Bath", "Mode": "Train", "Date Started": "10 Nov 2017", "Date Ended": "10 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bath", "End": "Dublin", "Mode": "Plane", "Date Started": "17 Nov 2017", "Date Ended": "17 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Dublin", "End": "Bath", "Mode": "Plane", "Date Started": "20 Nov 2017", "Date Ended": "20 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bath", "End": "Stonehenge", "Mode": "Bus", "Date Started": "25 Nov 2017", "Date Ended": "25 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Stonehenge", "End": "Bath", "Mode": "Bus", "Date Started": "25 Nov 2017", "Date Ended": "25 Nov 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bath", "End": "Amsterdam", "Mode": "Plane", "Date Started": "2 Dec 2017", "Date Ended": "2 Dec 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Amsterdam", "End": "Bath", "Mode": "Plane", "Date Started": "4 Dec 2017", "Date Ended": "4 Dec 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Bath", "End": "Geneva", "Mode": "Plane", "Date Started": "9 Dec 2017", "Date Ended": "9 Dec 2017", "Trip": "Study Abroad (2017)"}, {"Start": "Geneva", "End": "Bath", "Mode": "Plane", "Date Started": "10 Dec 2017", "Date Ended": "10 Dec 2017", "Trip": "Study Abroad (2017)"}]

// Define Trip, Location, Visit and Transit objects
class Trip {
    constructor(name, visits = [], transits = []){
        this.name = name,
        this.visits = visits,
        this.transits = transits,
        this.getLocations = () => visits.map((vis) => vis.location)
    }
}

class Location {
    constructor(name, lat, lng, country, visits = []){
        this.name = name,
        this.latLng = L.latLng(lat, lng),
        this.country = country,
        this.visits = visits,
        this.getNights = function(){
            if(visits.length>0){
                return(this.visits.map(vis => vis.nights).reduce((tot, cur) => tot + cur));
            } else {
                return(0);
            }
        }
    }
}

class Visit {
    constructor(location, dateArrive, dateDepart, trip){
        this.trip = trip,
        this.location = location,
        this.arrive = {"date": new Date(dateArrive), "transit": null},
        this.depart = {"date": new Date(dateDepart), "transit": null},
        this.nights = Math.round((this.depart.date.getTime() - this.arrive.date.getTime()) / (1000 * 3600 * 24))
    }
}

class Transit {
    constructor(locStart, locEnd, mode, dateStart, dateEnd, trip){
        this.start = {"date": new Date(dateStart), "location": locStart},
        this.end = {"date": new Date(dateEnd), "location": locEnd}
        this.trip = trip,
        this.mode = mode
    }
}

// Create Trips, assign to JSON.
let trips_json = {};
trips_init.forEach((trp) => trips_json[trp.Name] = new Trip(trp.Name));
console.log(trips_json);

// Create Locations, assign to JSON.
let locations_json = {};
locations_init.forEach((loc) => locations_json[loc.Name] = new Location(loc.Name, loc.Lat, loc.Lng, loc.Country));

// Create Visits, assign to Trip and Location.
visits_init.forEach((vis) => {
    let visit = new Visit(locations_json[vis["Location"]], vis.Arrive, vis.Depart, vis.Trip);

    trips_json[visit.trip].visits.push(visit);
    locations_json[visit.location.name].visits.push(visit);
});

// Create Transits (with references to Locations), assign to Trip, Visits, and transits array.
let transits = [];

transits_init.forEach((trs) => {
    let transit = new Transit(locations_json[trs["Start"]], locations_json[trs["End"]], trs.Mode.toLowerCase(), trs["Date Started"], trs["Date Ended"], trs.Trip);
    let thisTrip = trips_json[transit.trip];

    thisTrip.transits.push(transit);
    thisTrip.visits.forEach((vis) => {
        if(vis.location.name === transit.start.location.name & vis.depart.date.getTime() === transit.start.date.getTime()){
            vis.depart.transit = transit;
        }
        if(vis.location.name === transit.end.location.name & vis.arrive.date.getTime() === transit.end.date.getTime()){
            vis.arrive.transit = transit;
        }
    })
    transits.push(transit);
});

console.log(transits);

// Convert locations JSON to array.
let locations = Object.keys(locations_json).map((key) => locations_json[key]);

console.log(locations_json);
console.log(locations);


console.log(trips_json["Guatemala (2024)"].getLocations())